var Validate=function(e){this.form=e.form,this.callback=e.callback,this.autoSubmit=e.autoSubmit,this.controls=[],this.groups=[];e=this.form.elements;this.classes={show:"d-block",hide:"d-none",hasError:"has-error",validFeedback:"valid-feedback",inValidFeedback:"invalid-feedback",wasValidated:"was-validated"},this.validationTypes={required:"_required",min:"_min",max:"_max",minlength:"_minlength",maxlength:"_maxlength",pattern:"_pattern",matching:"_matching"},this.init(e)};Validate.prototype.init=function(t){for(let e=0;e<t.length;e++){var i,a;"hidden"!==t[e].type&&"radio"!==t[e].type&&"BUTTON"!==t[e].nodeName&&(a={validity:!1,errorType:"",name:(i=t[e]).name,errorElement:i.name+"-error",type:i.type,inGroup:0,value:null},i.pattern&&(a.pattern=new RegExp(i.pattern)),i.required&&(a.required=i.required),-1<i.minLength&&(a.minlength=i.minLength),-1<i.maxLength&&(a.maxlength=i.maxLength),-1<i.min&&(a.min=i.min),-1<i.max&&(a.max=i.max),i.hasAttribute("matchingId")&&(a.matchingId=i.getAttribute("matchingId")),i.hasAttribute("group")&&(a.inGroup=+i.getAttribute("group")),0<a.inGroup&&this.groups.push(a),0===a.inGroup&&this.controls.push(a),"select-one"!==a.type&&i.addEventListener("keyup",this.hideError.bind(this,a),!0),"select-one"===a.type)&&i.addEventListener("change",this.hideError.bind(this,a),!0)}this.addEvents()},Validate.prototype.addEvents=function(){this.form.addEventListener("submit",this.validateBeforeSubmit.bind(this),!0)},Validate.prototype.validateBeforeSubmit=function(e){e.preventDefault();var e=this.validateGroup(this.groups),t=this.validateFields(this.controls);this.submit(e&&t)},Validate.prototype.validateGroup=function(e){if(!e.length)return!0;let a={},s=!1;for(var r in e.forEach(e=>{a[e.inGroup]||(a[e.inGroup]=[]),a[e.inGroup].push(e)}),a){let t=!1,i;for(let e=0;e<a[r].length;e++){var l=this.form.elements[a[r][e].name];if(a[r][e].value=l.value,t=0<l.value.trim(" ").length||0<l.value,i="group_"+a[r][e].inGroup,l.value&&this.validateFields([a[r][e]]),t)break}this.handleGroupErrorsRender(i,t),s=t}return s},Validate.prototype.validateFields=function(e){let t=!0;for(var i=0;i<e.length;i++){e[i].validity=!0;var a=this.form.elements[e[i].name];e[i].value=a.value,"checkbox"==e[i].type&&1==e[i].validity&&1==e[i].required&&0==a.checked&&(e[i]=this.updateValidity(e[i],!1,this.validationTypes.required)),1==e[i].validity&&1==e[i].required&&this.checkRequiredValue(a.value)&&(e[i]=this.updateValidity(e[i],!1,this.validationTypes.required)),1==e[i].validity&&e[i].minlength&&this.checkMinLengthValue(a.value,e[i].minlength)&&(e[i]=this.updateValidity(e[i],!1,this.validationTypes.minlength)),1==e[i].validity&&e[i].maxlength&&this.checkMaxLengthValue(a.value,e[i].maxlength)&&(e[i]=this.updateValidity(e[i],!1,this.validationTypes.maxlength)),1==e[i].validity&&e[i].min&&this.checkMinValue(a.value,e[i].min)&&(e[i]=this.updateValidity(e[i],!1,this.validationTypes.min)),1==e[i].validity&&e[i].max&&this.checkMaxValue(a.value,e[i].max)&&(e[i]=this.updateValidity(e[i],!1,this.validationTypes.max)),1!=e[i].validity||!e[i].pattern||this.checkPatternValue(e[i].pattern,a.value)||(e[i]=this.updateValidity(e[i],!1,this.validationTypes.pattern)),1==e[i].validity&&e[i].matchingId&&document.getElementById(e[i].matchingId).value!==a.value&&(e[i]=this.updateValidity(e[i],!1,this.validationTypes.matching)),this.controls=e,t=this.handleFieldErrorsRender(e[i],a,t)}return t?this.form.classList.remove(this.classes.hasError):(this.form.classList.add(this.classes.wasValidated),this.form.classList.add(this.classes.hasError)),t},Validate.prototype.hideError=function(e){e&&document.getElementById(e.errorElement)&&(document.getElementById(e.errorElement).classList.remove(this.classes.show),document.getElementById(e.errorElement).classList.add(this.classes.hide),document.getElementById(e.errorElement+e.errorType).classList.remove(this.classes.show),document.getElementById(e.errorElement+e.errorType).classList.add(this.classes.hide),event.target.parentElement.classList.remove(this.classes.hasError))},Validate.prototype.updateValidity=function(e,t,i=""){return e.validity=t,e.errorType=i,e},Validate.prototype.submit=function(e){var t={controls:this.controls,groups:this.groups,validity:e,submited:!0};this.callback(t),e&&this.autoSubmit&&this.form.submit()},Validate.prototype.checkRequiredValue=function(e){return 0===e.trim(" ").length},Validate.prototype.checkMinValue=function(e,t){return e<t},Validate.prototype.checkMaxValue=function(e,t){return t<e},Validate.prototype.checkMinLengthValue=function(e,t){return e.length<t},Validate.prototype.checkMaxLengthValue=function(e,t){return e.length>t},Validate.prototype.checkPatternValue=function(e,t){return e.test(t)},Validate.prototype.handleGroupErrorsRender=function(e,t){document.getElementById(e+"-error").classList[t?"remove":"add"](this.classes.inValidFeedback),document.getElementById(e+"-error").classList[t?"add":"remove"](this.classes.validFeedback),document.getElementById(e+"-error").classList[t?"remove":"add"](this.classes.show),document.getElementById(e+"-error").classList[t?"add":"remove"](this.classes.hide),document.getElementById(e+"-error_required").classList[t?"remove":"add"](this.classes.show),document.getElementById(e+"-error_required").classList[t?"add":"remove"](this.classes.hide)},Validate.prototype.handleFieldErrorsRender=function(e,t,i){return document.getElementById(e.errorElement)&&(document.getElementById(e.errorElement).classList[e.validity?"add":"remove"](this.classes.validFeedback),document.getElementById(e.errorElement).classList[e.validity?"remove":"add"](this.classes.inValidFeedback),document.getElementById(e.errorElement).classList[e.validity?"remove":"add"](this.classes.show),document.getElementById(e.errorElement).classList[e.validity?"add":"remove"](this.classes.hide),document.getElementById(t.id).classList[e.validity?"add":"remove"](this.classes.hasError),document.getElementById(t.id).parentElement.classList[e.validity?"add":"remove"](this.classes.hasError),document.getElementById(e.errorElement+e.errorType).classList[e.validity?"add":"remove"](this.classes.hide),document.getElementById(e.errorElement+e.errorType).classList[e.validity?"remove":"add"](this.classes.show)),i=e.validity?i:e.validity};